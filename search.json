[{"path":"https://419kfj.github.io/futools/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"package maintainer. Maintainer.","code":""},{"path":"https://419kfj.github.io/futools/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"fujimoto k (2025). futools: vcd::mosaic Japanese wrapper. R package version 0.1.3.3, https://419kfj.github.io/futools/.","code":"@Manual{,   title = {futools: vcd::mosaic Japanese wrapper},   author = {kazuo fujimoto},   year = {2025},   note = {R package version 0.1.3.3},   url = {https://419kfj.github.io/futools/}, }"},{"path":"https://419kfj.github.io/futools/index.html","id":"futools","dir":"","previous_headings":"","what":"vcd::mosaic Japanese wrapper","title":"vcd::mosaic Japanese wrapper","text":"このPackageは、vcdが提供するmosaic などのグラフ生成ツールで日本語を使えるようにするものです。 カテゴリカルデータの可視化には、Michael Friendly先生たちのvcd（その名もずばり、Visualizing Categorical Data：カテゴリカルデータの可視化）が有効なことはいろいろなところでこのパッケージが紹介されていることからもわかります。ただ、グラフィックがbase graphics ではなく、（latticeやggplot2でも使われている）gridであることもあり、日本語表示が簡単ではありませんでした。 しかし、gpar に日本語フォントを指定することでmosaicなどのvcd function で日本語がつかえるようになります。 ggplot2 でも有効ですが、grid graphics であるvcdで日本語を使うには、package showtextをインストールし、library(showtext)ののり、showtext_auto(TRUE)を設定すればOKです。 以前、以下のように書いてましたが、 「当初は、一々mosaic()の中にパラメータで書いていたのですが、さすがに面倒になったので、wrapper をパッケージにしてみました。」 showtextを使えば日本語（以外もOK）表示のために、いちいちgparを指定しなくてもいいので、このwraperは、mosaiの使い方になりました。 Github からインストールできますので、使ってみてください。","code":""},{"path":"https://419kfj.github.io/futools/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"vcd::mosaic Japanese wrapper","text":"githubから以下のようにしてインストールできます：","code":"# install.packages(\"devtools\") devtools::install_github(\"419kfj/futools\")"},{"path":"https://419kfj.github.io/futools/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"vcd::mosaic Japanese wrapper","text":"basic example shows solve common problem:","code":"library(vcd) ## 要求されたパッケージ grid をロード中です library(RColorBrewer) library(futools) library(showtext) ## 要求されたパッケージ sysfonts をロード中です  ## 要求されたパッケージ showtextdb をロード中です showtext_auto(TRUE)  # data set data(HairEyeColor_jp)  # plain mosaic_jp mosaic_jp(HairEyeColor_jp) # without cell color mosaic_jp2(HairEyeColor_jp) # set cell color by color matrix cset <- t(matrix(rep(brewer.pal(4,\"Blues\"),2),ncol=2)) mosaic_jp2(HairEyeColor_jp,gp=gpar(fill=cset,col=0)) # Pearson residulas mosaic_jp2(HairEyeColor_jp,shade=TRUE)"},{"path":"https://419kfj.github.io/futools/index.html","id":"参考文献","dir":"","previous_headings":"","what":"参考文献","title":"vcd::mosaic Japanese wrapper","text":"藤本一男,2017, 「二つのmosaic plotと日本語表示」 https://www.slideshare.net/kazuofujimoto/2mosaic-plot-80084536 藤本一男,2017, 「vcd/vcdExtra で日本語を使う その2」 https://www.slideshare.net/kazuofujimoto/use-japanese--vcdvcdextra-package David Meyer, Achim Zeileis, Kurt Hornik , 2007, Strucplot Framework: Visualizing Multi-way Contingency Tables vcd, Journal Statistical Software,Vol17, https://www.jstatsoft.org/index.php/jss/article/view/v017i03/v17i03.pdf Michael Friendly,2017, Working categorical data R vcd vcdExtra packages, https://cran.r-project.org/web/packages/vcdExtra/vignettes/vcd-tutorial.pdf","code":""},{"path":"https://419kfj.github.io/futools/reference/HairEyeColor_jp.html","id":null,"dir":"Reference","previous_headings":"","what":"日本語化した HairEyeColor データ — HairEyeColor_jp","title":"日本語化した HairEyeColor データ — HairEyeColor_jp","text":"日本語化した HairEyeColor データ","code":""},{"path":"https://419kfj.github.io/futools/reference/HairEyeColor_jp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"日本語化した HairEyeColor データ — HairEyeColor_jp","text":"","code":"HairEyeColor_jp"},{"path":"https://419kfj.github.io/futools/reference/HairEyeColor_jp.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"日本語化した HairEyeColor データ — HairEyeColor_jp","text":"object class table dimension 4 x 4 x 2.","code":""},{"path":"https://419kfj.github.io/futools/reference/mosaic_jp.html","id":null,"dir":"Reference","previous_headings":"","what":"set up font for using Japanese with vcd::mosaic — mosaic_jp","title":"set up font for using Japanese with vcd::mosaic — mosaic_jp","text":"mosaic_jp*","code":""},{"path":"https://419kfj.github.io/futools/reference/mosaic_jp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"set up font for using Japanese with vcd::mosaic — mosaic_jp","text":"","code":"mosaic_jp1()"},{"path":"https://419kfj.github.io/futools/reference/mosaic_jp.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"set up font for using Japanese with vcd::mosaic — mosaic_jp","text":"- Strucplot Framework: Visualizing Multi-way Contingency Tables vcd: https://www.jstatsoft.org/index.php/jss/article/view/v017i03/v17i03.pdf","code":""},{"path":"https://419kfj.github.io/futools/reference/mosaic_jp.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"set up font for using Japanese with vcd::mosaic — mosaic_jp","text":"","code":"# installation  if(!require(devtools)) install.packages(\"devtools\") devtools::install_github(\"419kfj/futools\") #> Using github PAT from envvar GITHUB_PAT. Use `gitcreds::gitcreds_set()` and unset GITHUB_PAT in .Renviron (or elsewhere) if you want to use the more secure git credential store instead. #> Downloading GitHub repo 419kfj/futools@HEAD #> ── R CMD build ───────────────────────────────────────────────────────────────── #> * checking for file ‘/tmp/RtmpyroEf2/remotes6e42f76d38cd8/419kfj-futools-60f6e17/DESCRIPTION’ ... OK #> * preparing ‘futools’: #> * checking DESCRIPTION meta-information ... OK #> * checking for LF line-endings in source and make files and shell scripts #> * checking for empty or unneeded directories #> * building ‘futools_0.1.3.3.tar.gz’ #>  #> Installing package into ‘/home/kazuo/R/x86_64-pc-linux-gnu-library/4.4’ #> (as ‘lib’ is unspecified)  # data set data(HairEyeColor_jp)  # plain mosaic_jp mosaic_jp0(HairEyeColor_jp) #> Error in mosaic_jp0(HairEyeColor_jp): could not find function \"mosaic_jp0\"  # without cell color mosaic_jp2(HairEyeColor_jp)   # set cell color by color matrix cset <- t(matrix(rep(brewer.pal(4,\"Blues\"),2),ncol=2)) mosaic_jp2(HairEyeColor_jp,gp=gpar(fill=cset,col=0))   # Pearson residulas mosaic_jp2(HairEyeColor_jp,shade=TRUE)"},{"path":"https://419kfj.github.io/futools/reference/mosaic_jp1.html","id":null,"dir":"Reference","previous_headings":"","what":"colset is the col name of RColorbrewer ex: ","title":"colset is the col name of RColorbrewer ex: ","text":"colset col name RColorbrewer ex: \"Pastel1\", \"Blues\" library(RColorBrewer) display.brewer.(n=10, exact.n=FALSE) # can see color palette","code":""},{"path":"https://419kfj.github.io/futools/reference/mosaic_jp1.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"colset is the col name of RColorbrewer ex: ","text":"","code":"mosaic_jp1(.tbl, mtitle = \"mosaic_jp\", colset = \"Set3\")"},{"path":"https://419kfj.github.io/futools/reference/mosaic_jp1cell.html","id":null,"dir":"Reference","previous_headings":"","what":"このあと、 labeling_cells(text = round(100*prop.table(.tbl,1),1))(.tbl) のように表示するデータを指示する。 — mosaic_jp1cell","title":"このあと、 labeling_cells(text = round(100*prop.table(.tbl,1),1))(.tbl) のように表示するデータを指示する。 — mosaic_jp1cell","text":"このあと、 labeling_cells(text = round(100*prop.table(.tbl,1),1))(.tbl)　のように表示するデータを指示する。","code":""},{"path":"https://419kfj.github.io/futools/reference/mosaic_jp1cell.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"このあと、 labeling_cells(text = round(100*prop.table(.tbl,1),1))(.tbl) のように表示するデータを指示する。 — mosaic_jp1cell","text":"","code":"mosaic_jp1cell(.tbl, mtitle = \"mosaic_jp\", colset = \"Set3\")"}]
